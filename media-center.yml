#######################################################################################################################################
# DOCKER COMPOSE - MEDIA-CENTER BY JUFTIN
#######################################################################################################################################

version:                                                 "3.7"

#######################################################################################################################################
# SERVICES CONFIGURATION
#######################################################################################################################################

services:

#######################################################################################################################################
# NETWORKING SERVICES
#######################################################################################################################################

#######################################################################################
# TRAEFIK CONFIGURATION
#######################################################################################

  traefik:
    container_name:                                      traefik
    hostname:                                            traefik
    image:                                               traefik:v1.7.16
    domainname:                                          ${DOMAINNAME}
    environment:
      - CF_API_EMAIL=${CLOUDFLARE_EMAIL}
      - CF_API_KEY=${CLOUDFLARE_API_KEY}
    ports:
      - 80:80
      - 443:443
      - 8080:8080
    environment:
      - CF_API_EMAIL=${CLOUDFLARE_EMAIL}
      - CF_API_KEY=${CLOUDFLARE_API_KEY}
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock:ro
      - ${DOCKER_DIR}/traefik/config:/etc/traefik
      - ${DOCKER_DIR}/shared:/shared
    restart:                                             unless-stopped
    networks:
      traefik:
        ipv4_address:       192.168.101.2
      bridge:
        ipv4_address:       192.168.202.2
    labels:
      com.ouroboros.enable:                              true
      traefik.enable:                                    true
      traefik.backend:                                   traefik
      traefik.protocol:                                  http
      traefik.port:                                      8080
      traefik.frontend.rule:                             Host:traefik.${DOMAINNAME}
      traefik.frontend.headers.SSLHost:                  traefik.${DOMAINNAME}
      traefik.docker.network:                            traefik
      traefik.frontend.passHostHeader:                   true
      traefik.frontend.headers.SSLForceHost:             true
      traefik.frontend.headers.SSLRedirect:              true
      traefik.frontend.headers.browserXSSFilter:         true
      traefik.frontend.headers.contentTypeNosniff:       true
      traefik.frontend.headers.forceSTSHeader:           true
      traefik.frontend.headers.STSSeconds:               315360000
      traefik.frontend.headers.STSIncludeSubdomains:     true
      traefik.frontend.headers.STSPreload:               true
      traefik.frontend.headers.customResponseHeaders:    X-Robots-Tag:noindex,nofollow,nosnippet,noarchive,notranslate,noimageindex
      traefik.frontend.headers.frameDeny:                true
      traefik.frontend.headers.customFrameOptionsValue:  'allow-from https:${DOMAINNAME}'
      traefik.frontend.auth.forward.address:             "http://oauth:4181"
      traefik.frontend.auth.forward.authResponseHeaders: X-Forwarded-User
      traefik.frontend.auth.forward.trustForwardHeader:  true

#######################################################################################
# OAUTH CONFIGURATION
#######################################################################################

  oauth:
    image:                                               thomseddon/traefik-forward-auth:latest
    container_name:                                      oauth
    hostname:                                            oauth
    restart:                                             unless-stopped
    networks:
      traefik:
        ipv4_address:       192.168.101.3
      bridge:
        ipv4_address:       192.168.202.3
    environment:
      PROVIDERS_GOOGLE_CLIENT_ID:                        ${GOOGLE_CLIENT_ID}
      PROVIDERS_GOOGLE_CLIENT_SECRET:                    ${GOOGLE_CLIENT_SECRET}
      SECRET:                                            ${OAUTH_SECRET}
      COOKIE_DOMAIN:                                     ${DOMAINNAME}
      INSECURE_COOKIE:                                   "false"
      AUTH_HOST:                                         oauth.${DOMAINNAME}
      URL_PATH:                                          /_oauth
      WHITELIST:                                         ${OAUTH_WHITELIST}
      LOG_LEVEL:                                         info
      LIFETIME:                                          2592000 # 30 DAYS
    labels:
      com.ouroboros.enable:                              true
      traefik.enable:                                    true
      traefik.backend:                                   oauth
      traefik.port:                                      4181
      traefik.frontend.rule:                             Host:oauth.${DOMAINNAME}
      traefik.frontend.headers.SSLHost:                  oauth.${DOMAINNAME}
      traefik.docker.network:                            traefik
      traefik.frontend.passHostHeader:                   true
      traefik.frontend.headers.SSLForceHost:             true
      traefik.frontend.headers.customResponseHeaders:    X-Robots-Tag:noindex,nofollow,nosnippet,noarchive,notranslate,noimageindex
      traefik.frontend.headers.SSLRedirect:              true
      traefik.frontend.headers.browserXSSFilter:         true
      traefik.frontend.headers.contentTypeNosniff:       true
      traefik.frontend.headers.forceSTSHeader:           true
      traefik.frontend.headers.STSSeconds:               315360000
      traefik.frontend.headers.STSIncludeSubdomains:     true
      traefik.frontend.headers.STSPreload:               true
      traefik.frontend.headers.frameDeny:                true
      traefik.frontend.auth.forward.address:             "http://oauth:4181"
      traefik.frontend.auth.forward.authResponseHeaders: X-Forwarded-User
      traefik.frontend.auth.forward.trustForwardHeader:  true

#######################################################################################################################################
# FRONTEND SERVICES
#######################################################################################################################################

#######################################################################################
# PORTAINER CONFIGURATION
#######################################################################################

  portainer:
    container_name:                                      portainer
    # hostname:                                          portainer
    image:                                               portainer/portainer:latest
    environment:
      - TZ=${TZ}
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - ${DOCKER_DIR}/portainer/config:/data
      - ${DOCKER_DIR}/shared:/shared
    command:                                             -H unix:///var/run/docker.sock
    restart:                                             unless-stopped
    networks:
      traefik:
        ipv4_address:       192.168.101.4
    ports:
      - 9000:9000
    labels:
      com.ouroboros.enable:                              true
      traefik.enable:                                    true
      traefik.backend:                                   portainer
      traefik.protocol:                                  http
      traefik.port:                                      9000
      traefik.frontend.rule:                             Host:portainer.${DOMAINNAME}
      traefik.frontend.headers.SSLHost:                  portainer.${DOMAINNAME}
      traefik.docker.network:                            traefik
      traefik.frontend.passHostHeader:                   true
      traefik.frontend.headers.SSLForceHost:             true
      traefik.frontend.headers.SSLRedirect:              true
      traefik.frontend.headers.browserXSSFilter:         true
      traefik.frontend.headers.contentTypeNosniff:       true
      traefik.frontend.headers.forceSTSHeader:           true
      traefik.frontend.headers.STSSeconds:               315360000
      traefik.frontend.headers.STSIncludeSubdomains:     true
      traefik.frontend.headers.STSPreload:               true
      traefik.frontend.headers.customResponseHeaders:    X-Robots-Tag:noindex,nofollow,nosnippet,noarchive,notranslate,noimageindex
      traefik.frontend.headers.frameDeny:                true
      traefik.frontend.headers.customFrameOptionsValue:  'allow-from https:${DOMAINNAME}'
      traefik.frontend.auth.forward.address:             "http://oauth:4181"
      traefik.frontend.auth.forward.authResponseHeaders: X-Forwarded-User
      traefik.frontend.auth.forward.trustForwardHeader:  true

#############################
# ORGANIZR CONFIGURATION
#############################

  # organizr:
  #   container_name:                                organizr
  #   image:                                         lsiocommunity/organizr:latest
  #   environment:
  #     - PUID=${PUID}
  #     - PGID=${PGID}
  #     - TZ=${TZ}
  #   volumes:
  #     - ${DOCKER_DIR}/organizr/config:/config
  #     - ${DOCKER_DIR}/shared:/shared
  #   restart:                                       unless-stopped
  #   networks:
  #     bridge:
  #       ipv4_address:                              172.16.238.12
  #   labels:
  #     com.ouroboros.enable:                        true
  #     traefik.enable:                              true
  #     traefik.frontend.rule:                       Host:organizr.${DOMAINNAME}
  #     traefik.port:                                8069

#######################################################################################################################################
# DOCKER MAINTENANCE
#######################################################################################################################################

#######################################################################################
# OUROBOROS CONFIGURATION
#######################################################################################
  ouroboros:
    container_name:                                      ouroboros
    hostname:                                            ouroboros
    image:                                               pyouroboros/ouroboros:latest
    environment:
      - INTERVAL=1800
      - CLEANUP=True
      - LABEL_ENABLE=TRUE
      - LABELS_ONLY=True
      - SELF_UPDATE=True
      - TZ=${TZ}
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    restart:                                             unless-stopped
    networks:
      bridge:
        ipv4_address:       192.168.202.4

#######################################################################################################################################
# DOWNLOAD CLIENTS
#######################################################################################################################################

#######################################################################################
# TRASNMISSION CONFIGURATION
#######################################################################################

  transmission:
    container_name:                                      transmission
    hostname:                                            transmission
    image:                                               haugene/transmission-openvpn:latest
    environment:
      - PUID=${PUID}
      - PGID=${PGID}
      - OPENVPN_PROVIDER=${OPENVPN_PROVIDER}
      - OPENVPN_USERNAME=${OPENVPN_USERNAME}
      - OPENVPN_PASSWORD=${OPENVPN_PASSWORD}
      - TRANSMISSION_IDLE_SEEDING_LIMIT=0
      - TRANSMISSION_IDLE_SEEDING_LIMIT_ENABLED=True
      - TRANSMISSION_WEB_UI=combustion
      - TRANSMISSION_DOWNLOAD_DIR=/downloads
      - LOCAL_NETWORK=${LOCAL_NETWORK}
      # - TRANSMISSION_RPC_AUTHENTICATION_REQUIRED=true
      # - TRANSMISSION_RPC_USERNAME=${DOCKER_USER_NAME}
      # - TRANSMISSION_RPC_PASSWORD=${DOCKER_PASSWORD}
      - TZ=${TZ}
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - ${DOCKER_DIR}/transmission/config:/data/transmission-home
      - ${DOCKER_DIR}/transmission/watch:/data/watch
      - ${COMPLETED_DOWNLOADS}:/downloads
      - ${INCOMPLETE_DOWNLOADS}:/data/incomplete
      - ${DOCKER_DIR}/shared:/shared
    dns:
      - 8.8.8.8
      - 8.8.4.4
    cap_add:
      - NET_ADMIN
    devices:
      - /dev/net/tun
    restart:                                             unless-stopped
    networks:
      traefik:
        ipv4_address:       192.168.101.5
    ports:
       - 9091:9091
    labels:
      com.ouroboros.enable:                              true
      traefik.enable:                                    true
      traefik.backend:                                   transmission
      traefik.protocol:                                  http
      traefik.port:                                      9091
      traefik.frontend.rule:                             Host:transmission.${DOMAINNAME}
      traefik.frontend.headers.SSLHost:                  transmission.${DOMAINNAME}
      traefik.docker.network:                            traefik
      traefik.frontend.passHostHeader:                   true
      traefik.frontend.headers.SSLForceHost:             true
      traefik.frontend.headers.SSLRedirect:              true
      traefik.frontend.headers.browserXSSFilter:         true
      traefik.frontend.headers.contentTypeNosniff:       true
      traefik.frontend.headers.forceSTSHeader:           true
      traefik.frontend.headers.STSSeconds:               315360000
      traefik.frontend.headers.STSIncludeSubdomains:     true
      traefik.frontend.headers.STSPreload:               true
      traefik.frontend.headers.customResponseHeaders:    X-Robots-Tag:noindex,nofollow,nosnippet,noarchive,notranslate,noimageindex
      traefik.frontend.headers.frameDeny:                true
      traefik.frontend.headers.customFrameOptionsValue:  'allow-from https:${DOMAINNAME}'
      traefik.frontend.auth.forward.address:             "http://oauth:4181"
      traefik.frontend.auth.forward.authResponseHeaders: X-Forwarded-User
      traefik.frontend.auth.forward.trustForwardHeader:  true

#######################################################################################################################################
# PERSONAL VIDEO RECORDERS
#######################################################################################################################################

#######################################################################################
# RADARR CONFIGURATION
#######################################################################################

  radarr:
    image:                                               linuxserver/radarr:latest
    hostname:                                            radarr
    container_name:                                      radarr
    environment:
      - PUID=${PUID}
      - PGID=${PGID}
      - TZ=${TZ}
    volumes:
      - ${DOCKER_DIR}/radarr/config:/config
      - ${COMPLETED_DOWNLOADS}:/downloads
      - ${MOVIE_DIR}:/movies
      # - /etc/localtime:/etc/localtime:ro
      - ${DOCKER_DIR}/shared:/shared
    restart:                                             unless-stopped
    networks:
      traefik:
        ipv4_address:       192.168.101.6
    ports:
      - 7878:7878
    labels:
      com.ouroboros.enable:                              true
      traefik.enable:                                    true
      traefik.backend:                                   radarr
      traefik.protocol:                                  http
      traefik.port:                                      7878
      traefik.frontend.rule:                             Host:radarr.${DOMAINNAME}
      traefik.frontend.headers.SSLHost:                  radarr.${DOMAINNAME}
      traefik.docker.network:                            traefik
      traefik.frontend.passHostHeader:                   true
      traefik.frontend.headers.SSLForceHost:             true
      traefik.frontend.headers.SSLRedirect:              true
      traefik.frontend.headers.browserXSSFilter:         true
      traefik.frontend.headers.contentTypeNosniff:       true
      traefik.frontend.headers.forceSTSHeader:           true
      traefik.frontend.headers.STSSeconds:               315360000
      traefik.frontend.headers.STSIncludeSubdomains:     true
      traefik.frontend.headers.STSPreload:               true
      traefik.frontend.headers.customResponseHeaders:    X-Robots-Tag:noindex,nofollow,nosnippet,noarchive,notranslate,noimageindex
      traefik.frontend.headers.frameDeny:                true
      traefik.frontend.headers.customFrameOptionsValue:  'allow-from https:${DOMAINNAME}'
      traefik.frontend.auth.forward.address:             "http://oauth:4181"
      traefik.frontend.auth.forward.authResponseHeaders: X-Forwarded-User
      traefik.frontend.auth.forward.trustForwardHeader:  true

#######################################################################################
# SONARR CONFIGURATION
#######################################################################################

  sonarr:
    image:                                               linuxserver/sonarr:latest
    hostname:                                            sonarr
    container_name:                                      sonarr
    environment:
      - PUID=${PUID}
      - PGID=${PGID}
      - TZ=${TZ}
    volumes:
      - ${DOCKER_DIR}/sonarr/config:/config
      - ${COMPLETED_DOWNLOADS}:/downloads
      - ${TV_DIR}:/tv
      # - /etc/localtime:/etc/localtime:ro
      - ${DOCKER_DIR}/shared:/shared
    restart:                                             unless-stopped
    ports:
      - 8989:8989
    networks:
      traefik:
        ipv4_address:       192.168.101.7
    labels:
      com.ouroboros.enable:                              true
      traefik.enable:                                    true
      traefik.backend:                                   sonarr
      traefik.protocol:                                  http
      traefik.port:                                      8989
      traefik.frontend.rule:                             Host:sonarr.${DOMAINNAME}
      traefik.frontend.headers.SSLHost:                  sonarr.${DOMAINNAME}
      traefik.docker.network:                            traefik
      traefik.frontend.passHostHeader:                   true
      traefik.frontend.headers.SSLForceHost:             true
      traefik.frontend.headers.SSLRedirect:              true
      traefik.frontend.headers.browserXSSFilter:         true
      traefik.frontend.headers.contentTypeNosniff:       true
      traefik.frontend.headers.forceSTSHeader:           true
      traefik.frontend.headers.STSSeconds:               315360000
      traefik.frontend.headers.STSIncludeSubdomains:     true
      traefik.frontend.headers.STSPreload:               true
      traefik.frontend.headers.customResponseHeaders:    X-Robots-Tag:noindex,nofollow,nosnippet,noarchive,notranslate,noimageindex
      traefik.frontend.headers.frameDeny:                true
      traefik.frontend.headers.customFrameOptionsValue:  'allow-from https:${DOMAINNAME}'
      traefik.frontend.auth.forward.address:             "http://oauth:4181"
      traefik.frontend.auth.forward.authResponseHeaders: X-Forwarded-User
      traefik.frontend.auth.forward.trustForwardHeader:  true

#######################################################################################################################################
# MEDIA SERVER APPS
#######################################################################################################################################

#######################################################################################
# PLEX CONFIGURATION
#######################################################################################

  plex:
    container_name:                                      plex
    hostname:                                            plex
    image:                                               linuxserver/plex:latest
    network_mode:                                        host
    environment:
      - PUID=${PUID}
      - PGID=${PGID}
    volumes:
      - ${DOCKER_DIR}/plex/config:/config
      - ${TRANSCODE_DIR}:/transcode
      - ${TV_DIR}:/tv
      - ${MOVIE_DIR}:/movies
      - ${DOCKER_DIR}/shared:/shared
    labels:
      com.ouroboros.enable:                              "true"
    restart:                                             unless-stopped

#######################################################################################
# TAUTULLI CONFIGURATION
#######################################################################################

  tautulli:
    container_name:                                      tautulli
    hostname:                                            tautulli
    image:                                               linuxserver/tautulli:latest
    volumes:
      - ${DOCKER_DIR}/tautulli/config:/config
      - ${DOCKER_DIR}/tautulli/logs:/logs:ro
      - ${DOCKER_DIR}/shared:/shared
    environment:
      - PUID=${PUID}
      - PGID=${PGID}
      - TZ=${TZ}
    restart:                                             unless-stopped
    networks:
      traefik:
        ipv4_address:       192.168.101.8
    ports:
      - 8181:8181
    labels:
      com.ouroboros.enable:                              true
      traefik.enable:                                    true
      traefik.backend:                                   tautulli
      traefik.protocol:                                  http
      traefik.port:                                      8181
      traefik.frontend.rule:                             Host:tautulli.${DOMAINNAME}
      traefik.frontend.headers.SSLHost:                  tautulli.${DOMAINNAME}
      traefik.docker.network:                            traefik
      traefik.frontend.passHostHeader:                   true
      traefik.frontend.headers.SSLForceHost:             true
      traefik.frontend.headers.SSLRedirect:              true
      traefik.frontend.headers.browserXSSFilter:         true
      traefik.frontend.headers.contentTypeNosniff:       true
      traefik.frontend.headers.forceSTSHeader:           true
      traefik.frontend.headers.STSSeconds:               315360000
      traefik.frontend.headers.STSIncludeSubdomains:     true
      traefik.frontend.headers.STSPreload:               true
      traefik.frontend.headers.customResponseHeaders:    X-Robots-Tag:noindex,nofollow,nosnippet,noarchive,notranslate,noimageindex
      traefik.frontend.headers.frameDeny:                true
      traefik.frontend.headers.customFrameOptionsValue:  'allow-from https:${DOMAINNAME}'
      traefik.frontend.auth.forward.address:             "http://oauth:4181"
      traefik.frontend.auth.forward.authResponseHeaders: X-Forwarded-User
      traefik.frontend.auth.forward.trustForwardHeader:  true

#######################################################################################
# OMBI CONFIGURATION
#######################################################################################

  ombi:
    container_name:                                      ombi
    image:                                               linuxserver/ombi:latest
    environment:
      - PUID=${PUID}
      - PGID=${PGID}
      - TZ=${TZ}
    volumes:
      - ${DOCKER_DIR}/ombi/config:/config
      - ${DOCKER_DIR}/shared:/shared
    restart:                                             unless-stopped
    networks:
      traefik:
        ipv4_address:       192.168.101.9
    ports:
      - 3579:3579
    labels:
      traefik.enable:                                    true
      traefik.backend:                                   ombi
      traefik.protocol:                                  http
      traefik.port:                                      3579
      traefik.frontend.rule:                             Host:ombi.${DOMAINNAME}
      traefik.frontend.headers.SSLHost:                  ombi.${DOMAINNAME}
      traefik.docker.network:                            traefik
      traefik.frontend.passHostHeader:                   true
      traefik.frontend.headers.SSLForceHost:             true
      traefik.frontend.headers.SSLRedirect:              true
      traefik.frontend.headers.browserXSSFilter:         true
      traefik.frontend.headers.contentTypeNosniff:       true
      traefik.frontend.headers.forceSTSHeader:           true
      traefik.frontend.headers.STSSeconds:               315360000
      traefik.frontend.headers.STSIncludeSubdomains:     true
      traefik.frontend.headers.STSPreload:               true
      traefik.frontend.headers.customResponseHeaders:    X-Robots-Tag:noindex,nofollow,nosnippet,noarchive,notranslate,noimageindex
      traefik.frontend.headers.frameDeny:                true
      traefik.frontend.headers.customFrameOptionsValue:  'allow-from https:${DOMAINNAME}'
      traefik.frontend.auth.forward.address:             "http://oauth:4181"
      traefik.frontend.auth.forward.authResponseHeaders: X-Forwarded-User
      traefik.frontend.auth.forward.trustForwardHeader:  true

#######################################################################################################################################
# SEARCHER / INDEXER APPS
#######################################################################################################################################

#######################################################################################
# JACKETT CONFIGURATION
#######################################################################################

  jackett:
    container_name:                                      jackett
    hostname:                                            jackett
    image:                                               linuxserver/jackett:latest
    environment:
      - PUID=${PUID}
      - PGID=${PGID}
      - TZ=${TZ}
    volumes:
      - ${DOCKER_DIR}/jackett/config:/config
      - ${COMPLETED_DOWNLOADS}:/downloads
      - "/etc/localtime:/etc/localtime:ro"
      - ${DOCKER_DIR}/shared:/shared
    restart:                                             unless-stopped
    networks:
      traefik:
        ipv4_address:       192.168.101.10
    ports:
      - 9117:9117
    labels:
      traefik.enable:                                    true
      traefik.backend:                                   jackett
      traefik.protocol:                                  http
      traefik.port:                                      9117
      traefik.frontend.rule:                             Host:jackett.${DOMAINNAME}
      traefik.frontend.headers.SSLHost:                  jackett.${DOMAINNAME}
      traefik.docker.network:                            traefik
      traefik.frontend.passHostHeader:                   true
      traefik.frontend.headers.SSLForceHost:             true
      traefik.frontend.headers.SSLRedirect:              true
      traefik.frontend.headers.browserXSSFilter:         true
      traefik.frontend.headers.contentTypeNosniff:       true
      traefik.frontend.headers.forceSTSHeader:           true
      traefik.frontend.headers.STSSeconds:               315360000
      traefik.frontend.headers.STSIncludeSubdomains:     true
      traefik.frontend.headers.STSPreload:               true
      traefik.frontend.headers.customResponseHeaders:    X-Robots-Tag:noindex,nofollow,nosnippet,noarchive,notranslate,noimageindex
      traefik.frontend.headers.frameDeny:                true
      traefik.frontend.headers.customFrameOptionsValue:  'allow-from https:${DOMAINNAME}'
      traefik.frontend.auth.forward.address:             "http://oauth:4181"
      traefik.frontend.auth.forward.authResponseHeaders: X-Forwarded-User
      traefik.frontend.auth.forward.trustForwardHeader:  true

#######################################################################################################################################
# UTILITIES
#######################################################################################################################################

#######################################################################################
# SAMBA CONFIGURATION
#######################################################################################

  samba:
    container_name:                                      samba
    hostname:                                            samba
    image:                                               dperson/samba:latest
    environment:
      - USERID=${PUID}
      - GROUPID=${PGID}
      - WORKGROUP=workgroup
      - "SHARE=NAS;/mount;yes;no;yes;all;none;;NAS;"
      - "SHARE2=juftin;/mount2;yes;no;yes;all;none;;juftin;"
      - TZ=MST7MDT
    volumes:
      - ${NAS_MOUNT_1}:/mount
      - ${NAS_MOUNT_2}:/mount2
    ports:
      - "139:139/tcp"
      - "445:445/tcp"
    labels:
      com.ouroboros.enable:                              "true"
    restart:                                             unless-stopped
    networks:
      bridge:
        ipv4_address:       192.168.202.5

#############################
#  NO-IP CONFIGURATION
#############################

  # no-ip:
  #   image:                                         coppit/no-ip:latest
  #   container_name:                                no-ip
  #   # environment:
  #   #   - USERNAME=${NO_IP_USER}
  #   #   - PASSWORD=${NO_IP_PASSWORD}
  #   #   - DOMAINS=${NO_IP_DOMAIN}
  #   #   - INTERVAL=5m
  #   volumes:
  #     - ${DOCKER_DIR}/no-ip/config:/config
  #     - /etc/localtime:/etc/localtime:ro
  #   labels:
  #     com.ouroboros.enable:                        "true"
  #   privileged:                                    "true"
  #   restart:                                       unless-stopped

#######################################################################################################################################
# NETWORKING CONFIGURATION
#######################################################################################################################################

networks:
  traefik:
    driver:                 bridge
    ipam:
      driver:               default
      config:
      - subnet:             192.168.101.0/20
  bridge:
    driver:                 bridge
    ipam:
      driver:               default
      config:
      - subnet:             192.168.202.0/20
